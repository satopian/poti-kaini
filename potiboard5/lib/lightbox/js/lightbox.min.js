/*!
 * Lightbox v2.12.0 Custom Build
 * by Lokesh Dhakar
 *
 * More info:
 * http://lokeshdhakar.com/projects/lightbox2/
 *
 * Copyright Lokesh Dhakar
 * Released under the MIT license
 * https://github.com/lokesh/lightbox2/blob/master/LICENSE
 *
 * @preserve
 */ !function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):t.lightbox=i(t.jQuery)}(this,function(t){function i(i){this.album=[],this.currentImageIndex=void 0,this._preloader=null,this._sizeOverlayProxy=null,this.$triggerElement=null,this.init(),this.options=t.extend({},this.constructor.defaults),this.option(i)}return i.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},i.prototype.option=function(i){t.extend(this.options,i)},i.prototype.imageCountLabel=function(t,i){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,i)},i.prototype.init=function(){var i=this;t(document).ready(function(){i.enable(),i.build()})},i.prototype.enable=function(){var i=this;t("body").on("click.lightbox","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(e){return i.start(t(e.currentTarget)),!1})},i.prototype.build=function(){if(!(t("#lightbox").length>0)){var i=this;t('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox" role="dialog" aria-modal="true" aria-label="Image lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="" aria-describedby="lb-caption"/><div class="lb-nav"><a class="lb-prev" role="button" tabindex="0" aria-label="Previous image"></a><a class="lb-next" role="button" tabindex="0" aria-label="Next image"></a></div><div class="lb-loader"><a class="lb-cancel" role="button" tabindex="0"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span id="lb-caption" class="lb-caption"></span><span class="lb-number" aria-live="polite"></span></div><div class="lb-closeContainer"><a class="lb-close" role="button" tabindex="0"></a></div></div></div></div>').appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.$prev=this.$lightbox.find(".lb-prev"),this.$next=this.$lightbox.find(".lb-next"),this.$loader=this.$lightbox.find(".lb-loader"),this.$dataContainer=this.$lightbox.find(".lb-dataContainer"),this.$caption=this.$lightbox.find(".lb-caption"),this.$number=this.$lightbox.find(".lb-number"),this.$close=this.$lightbox.find(".lb-close"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return i.end(),!1}),this.$lightbox.hide().on("click",function(e){"lightbox"===t(e.target).attr("id")&&i.end()}),this.$outerContainer.on("click",function(e){return"lightbox"===t(e.target).attr("id")&&i.end(),!1}),this.$prev.on("click",function(t){t.preventDefault(),0===i.currentImageIndex?i.changeImage(i.album.length-1):i.changeImage(i.currentImageIndex-1)}),this.$next.on("click",function(t){t.preventDefault(),i.currentImageIndex===i.album.length-1?i.changeImage(0):i.changeImage(i.currentImageIndex+1)}),this.$nav.on("mousedown",function(t){2===t.button&&(i.$nav.css("pointer-events","none"),i.$lightbox.one("contextmenu",function(){setTimeout(function(){i.$nav.css("pointer-events","auto")},0)}))}),this.$overlay.add(this.$loader).add(this.$close).add(this.$image).add(this.$nav).on("click.lightbox_close keyup.lightbox_close",function(e){if(!(t.contains(i.$prev[0],e.target)||t.contains(i.$next[0],e.target))&&e.target!==i.$prev[0]&&e.target!==i.$next[0]&&("click"===e.type||"keyup"===e.type&&("Enter"===e.key||" "===e.key)))return i.end(),!1})}},i.prototype.start=function(i){var e,a=this;this.$triggerElement=i,this.album=[];var o=0;function n(t){a.album.push({alt:t.attr("data-alt"),link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var s=i.attr("data-lightbox");if(s){e=t(i.prop("tagName")).filter(function(){return t(this).attr("data-lightbox")===s});for(var r=0;r<e.length;r++)n(t(e[r])),e[r]===i[0]&&(o=r)}else if("lightbox"===i.attr("rel"))n(i);else{var h=i.attr("rel");e=t(i.prop("tagName")).filter(function(){return t(this).attr("rel")===h});for(var l=0;l<e.length;l++)n(t(e[l])),e[l]===i[0]&&(o=l)}this.$lightbox.css({top:this.options.positionFromTop+"px",left:"0px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&t("body").addClass("lb-disable-scrolling"),this.$lightbox.on("keydown.focustrap",this._trapFocus.bind(this)),this.$overlay.on("keydown.focustrap",this._trapFocus.bind(this)),this.changeImage(o),t(document).trigger("lightbox:open",[{album:this.album,currentImageIndex:o},])},i.prototype.changeImage=function(i){var e=this,a=this.album[i].link,o=a.split("?")[0].split("#")[0].split(".").slice(-1)[0];this.disableKeyboardNav(),this.$overlay.fadeIn(this.options.fadeDuration),this.$loader.fadeIn("slow"),this.$image.hide(),this.$nav.hide(),this.$prev.hide(),this.$next.hide(),this.$dataContainer.hide(),this.$number.hide(),this.$caption.hide(),this.$outerContainer.addClass("animating"),this._preloader&&(this._preloader.onload=null,this._preloader.onerror=null);var n=new Image;this._preloader=n,n.onload=function(){if(n===e._preloader){e.$image.attr({alt:e.album[i].alt,src:a}),e.$image.width(n.width),e.$image.height(n.height);var s,r,h,l,d,g,c=n.width/n.height;g=t(window).width(),d=t(window).height(),l=g-e.containerPadding.left-e.containerPadding.right-e.imageBorderWidth.left-e.imageBorderWidth.right-20,h=d-e.containerPadding.top-e.containerPadding.bottom-e.imageBorderWidth.top-e.imageBorderWidth.bottom-e.options.positionFromTop-70,"svg"===o?(c>=1?(r=l,s=parseInt(l/c,10)):(r=parseInt(h/c,10),s=h),e.$image.width(r),e.$image.height(s)):(e.options.fitImagesInViewport?(e.options.maxWidth&&e.options.maxWidth<l&&(l=e.options.maxWidth),e.options.maxHeight&&e.options.maxHeight<h&&(h=e.options.maxHeight)):(l=e.options.maxWidth||n.width||l,h=e.options.maxHeight||n.height||h),(n.width>l||n.height>h)&&(n.width/l>n.height/h?(r=l,s=parseInt(n.height/(n.width/r),10),e.$image.width(r),e.$image.height(s)):(s=h,r=parseInt(n.width/(n.height/s),10),e.$image.width(r),e.$image.height(s)))),e.sizeContainer(e.$image.width(),e.$image.height())}},n.onerror=function(){n===e._preloader&&(e.$loader.stop(!0).hide(),e.$outerContainer.removeClass("animating"),e.enableKeyboardNav())},n.src=this.album[i].link,this.currentImageIndex=i},i.prototype.sizeOverlay=function(){},i.prototype.sizeContainer=function(t,i){var e=this,a=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),n=t+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,s=i+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;function r(){e.$dataContainer.width(n),e.$prev.height(s),e.$next.height(s),e.$overlay.trigger("focus"),e.showImage()}a!==n||o!==s?this.$outerContainer.animate({width:n,height:s},this.options.resizeDuration,"swing",function(){r()}):r()},i.prototype.showImage=function(){this.$loader.stop(!0).hide(),this.$image.fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav(),t(document).trigger("lightbox:change",[{album:this.album,currentImageIndex:this.currentImageIndex},])},i.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(i){}this.$nav.show(),this.album.length>1&&(this.options.wrapAround?(t&&(this.$prev.css("opacity","1"),this.$next.css("opacity","1")),this.$prev.show(),this.$next.show()):(this.currentImageIndex>0&&(this.$prev.show(),t&&this.$prev.css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$next.show(),t&&this.$next.css("opacity","1"))))},i.prototype.updateDetails=function(){if(void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&(this.options.sanitizeTitle?this.$caption.text(this.album[this.currentImageIndex].title):this.$caption.html(this.album[this.currentImageIndex].title),this.$caption.fadeIn("fast")),this.album.length>1&&this.options.showImageNumberLabel){var t=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$number.text(t).fadeIn("fast")}else this.$number.hide();this.$outerContainer.removeClass("animating"),this.$dataContainer.fadeIn(this.options.resizeDuration)},i.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&(new Image().src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&(new Image().src=this.album[this.currentImageIndex-1].link)},i.prototype.enableKeyboardNav=function(){this.$lightbox.on("keyup.keyboard",this.keyboardAction.bind(this)),this.$overlay.on("keyup.keyboard",this.keyboardAction.bind(this))},i.prototype.disableKeyboardNav=function(){this.$lightbox.off(".keyboard"),this.$overlay.off(".keyboard")},i.prototype.keyboardAction=function(t){var i=t.key;"Escape"===i?(t.stopPropagation(),this.end()):"ArrowLeft"===i?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):"ArrowRight"===i&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},i.prototype._trapFocus=function(i){if("Tab"===i.key){var e=this.$lightbox.find("[tabindex]:visible").filter(function(){return parseInt(t(this).attr("tabindex"),10)>=0});if(0!==e.length){var a=e.first()[0],o=e.last()[0],n=document.activeElement;i.shiftKey?(n===a||n===this.$lightbox[0]||n===this.$overlay[0])&&(i.preventDefault(),o.focus()):n===o&&(i.preventDefault(),a.focus())}}},i.prototype.end=function(){this.disableKeyboardNav(),this.$lightbox.off(".focustrap"),this.$overlay.off(".focustrap"),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),this.options.disableScrolling&&t("body").removeClass("lb-disable-scrolling"),this._preloader&&(this._preloader.onload=null,this._preloader.onerror=null,this._preloader=null),this.$triggerElement&&(this.$triggerElement.trigger("focus"),this.$triggerElement=null),t(document).trigger("lightbox:close")},i.prototype.open=function(i,e){e=e||0,this.album=[],"string"==typeof i&&(i=[{link:i}]);for(var a=0;a<i.length;a++){var o="string"==typeof i[a]?{link:i[a]}:i[a];this.album.push({link:o.link||o.src||o.href,alt:o.alt||"",title:o.title||""})}0!==this.album.length&&(this.$lightbox.css({top:this.options.positionFromTop+"px",left:"0px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&t("body").addClass("lb-disable-scrolling"),this.$lightbox.on("keydown.focustrap",this._trapFocus.bind(this)),this.$overlay.on("keydown.focustrap",this._trapFocus.bind(this)),this.changeImage(e),t(document).trigger("lightbox:open",[{album:this.album,currentImageIndex:e},]))},i.prototype.close=function(){this.end()},i.prototype.next=function(){this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0)},i.prototype.prev=function(){0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1)},i.prototype.destroy=function(){this.end(),t("body").off("click.lightbox"),this.$lightbox&&this.$lightbox.remove(),this.$overlay&&this.$overlay.remove()},new i});